{% extends 'dashboard/customer/base.html' %}
{% load static %}
{% load humanize %}

{% block title %}
    Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ - ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø§Ù…Ù†ÛŒØªÛŒ
{% endblock %}

{% block breadcrumb %}
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb breadcrumb-light mb-0">
            <li class="breadcrumb-item"> Ø­Ø³Ø§Ø¨</li>
            <li class="breadcrumb-item"> Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ú©Ø§Ø±Ø¨Ø±</li>
            <li class="breadcrumb-item active" aria-current="page">
                ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø§Ù…Ù†ÛŒØªÛŒ
            </li>
        </ol>
    </nav>
{% endblock %}

{% block content %}

    <!-- Card -->
    <div class="card mb-3">
        <div class="card-header border-bottom">
            <h5 class="card-header-title">ÙˆÛŒØ±Ø§ÛŒØ´ Ø±Ù…Ø²Ø¹Ø¨ÙˆØ±</h5>
        </div>

        <div class="card-body">

            <form action="." method="post">
                {% csrf_token %}

                <!-- Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± ÙØ¹Ù„ÛŒ -->
                <div class="row mb-4 position-relative">
                    <label for="old_password" class="col-sm-3 col-form-label form-label">
                        Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± ÙØ¹Ù„ÛŒ
                    </label>
                    <div class="col-sm-9 position-relative">
                        <input type="password" class="form-control text-center"
                               name="old_password" id="old_password"
                               placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± ÙØ¹Ù„ÛŒ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯">
                        <i class="bi bi-eye-slash password-toggle"
                           onclick="togglePassword('old_password', this)"
                           style="position:absolute; top:50%; right:25px;
                           transform:translateY(-50%); cursor:pointer;">
                        </i>
                    </div>
                </div>

                <!-- Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø¬Ø¯ÛŒØ¯ -->
                <div class="row mb-4 position-relative">
                    <label for="new_password" class="col-sm-3 col-form-label form-label">
                        Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø¬Ø¯ÛŒØ¯
                    </label>
                    <div class="col-sm-9 position-relative">
                        <input type="password" class="form-control text-center"
                               name="new_password" id="new_password"
                               placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø¬Ø¯ÛŒØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯">
                        <i class="bi bi-eye-slash password-toggle"
                           onclick="togglePassword('new_password', this)"
                           style="position:absolute; top:50%; right:25px;
                           transform:translateY(-50%); cursor:pointer;">
                        </i>
                    </div>
                </div>

                <!-- ØªØ§ÛŒÛŒØ¯ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø¬Ø¯ÛŒØ¯ -->
                <div class="row mb-4 position-relative">
                    <label for="confirm_password" class="col-sm-3 col-form-label form-label">
                        Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø¬Ø¯ÛŒØ¯ Ø±Ø§ ØªØ§ÛŒÛŒØ¯ Ú©Ù†ÛŒØ¯
                    </label>
                    <div class="col-sm-9 position-relative">
                        <input type="password" class="form-control text-center"
                               name="confirm_password" id="confirm_password"
                               placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø¬Ø¯ÛŒØ¯ Ø±Ø§ Ù…Ø¬Ø¯Ø¯ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯">
                        <i class="bi bi-eye-slash password-toggle"
                           onclick="togglePassword('confirm_password', this)"
                           style="position:absolute; top:50%; right:25px;
                           transform:translateY(-50%); cursor:pointer;">
                        </i>
                    </div>
                </div>


                <div class="row mb-4">
                    <div class="col-sm-12 offset-sm-4">
                        <div class="position-relative p-3 rounded-3"
                             style="background: linear-gradient(135deg, #eef2ff, #f8faff); border: 1px solid #d6e0ff;">
                            <h5 class="mt-2 fw-bold text-primary">
                                ğŸ” Ù†Ú©Ø§Øª Ø±Ù…Ø²Ø¹Ø¨ÙˆØ± Ù‚ÙˆÛŒ
                            </h5>
                            <p class="small text-dark mb-3">Ø¨Ø±Ø§ÛŒ Ø§Ù…Ù†ÛŒØª Ø¨ÛŒØ´ØªØ±ØŒ Ù…ÙˆØ§Ø±Ø¯ Ø²ÛŒØ± Ø±Ø§ Ø±Ø¹Ø§ÛŒØª Ú©Ù†ÛŒØ¯:</p>
                            <ul class="text-dark small ps-3"
                                style="line-height: 1.8; list-style: none; padding-left: 0; margin: 0;">
                                <li>âœ… Ø­Ø¯Ø§Ù‚Ù„ Û¸ Ú©Ø§Ø±Ø§Ú©ØªØ± (Ù‡Ø±Ú†Ù‡ Ø¨ÛŒØ´ØªØ±ØŒ Ø¨Ù‡ØªØ±)</li>
                                <li>âœ… Ø­Ø¯Ø§Ù‚Ù„ ÛŒÚ© Ø­Ø±Ù Ú©ÙˆÚ†Ú©</li>
                                <li>âœ… Ø­Ø¯Ø§Ù‚Ù„ ÛŒÚ© Ø­Ø±Ù Ø¨Ø²Ø±Ú¯</li>
                                <li>âœ… Ø­Ø¯Ø§Ù‚Ù„ ÛŒÚ© Ø¹Ø¯Ø¯ØŒ Ù†Ù…Ø§Ø¯ ÛŒØ§ ÙØ§ØµÙ„Ù‡ (!@#$%^&*-=)</li>
                            </ul>
                        </div>
                    </div>
                </div>


                <div class="d-flex justify-content-end gap-3">
                    <button type="submit" class="btn btn-primary">
                        Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø±Ù…Ø²Ø¹Ø¨ÙˆØ±
                    </button>
                </div>
            </form>


        </div>
    </div>
    <!-- End Card -->


{% endblock %}


{% block js %}

    {% if messages %}
        <script>
            window.addEventListener("load", function () {
                {% for message in messages %}
                    {% if 'success' in message.tags %}
                        Swal.fire({
                            icon: 'success',
                            title: '{{ message|escapejs }}',
                            confirmButtonText: "Ø¨Ø§Ø´Ù‡",
                            showConfirmButton: true,
                            customClass: {
                                title: 'swal-title-lg'  // Ú©Ù„Ø§Ø³ Ø¨Ø±Ø§ÛŒ Ù…ØªÙ† Ø¨Ø²Ø±Ú¯
                            }
                        }).then(() => {
                            window.location.href = "{% url 'dashboard:customer:home' %}";
                        });
                    {% else %}
                        Swal.fire({
                            icon: "{% if 'error' in message.tags %}error{% elif 'warning' in message.tags %}
                                warning{% else %}info{% endif %}",
                            title: '{{ message|escapejs }}',
                            confirmButtonText: "Ø¨Ø§Ø´Ù‡",
                            confirmButtonColor: "#3085d6",
                            customClass: {
                                title: 'swal-title-sm'  // Ú©Ù„Ø§Ø³ Ø¨Ø±Ø§ÛŒ Ù…ØªÙ† Ú©ÙˆÚ†Ú©
                            }
                        });
                    {% endif %}
                {% endfor %}
            });
        </script>

        <style>
            .swal-title-lg {
                font-size: 1.5rem; /* ØªØºÛŒÛŒØ± ÙÙˆÙ†Øª Ù…Ø³ÛŒØ¬ Ø¨Ø²Ø±Ú¯â€ŒØªØ± */
            }

            .swal-title-sm {
                font-size: 1.5rem; /* ØªØºÛŒÛŒØ± ÙÙˆÙ†Øª Ù…Ø³ÛŒØ¬ Ú©ÙˆÚ†Ú©â€ŒØªØ± */
            }
        </style>

    {% endif %}



    <script>
        function togglePassword(fieldId, icon) {
            const field = document.getElementById(fieldId);
            if (field.type === "password") {
                field.type = "text";
                icon.classList.remove("bi-eye-slash");
                icon.classList.add("bi-eye");
            } else {
                field.type = "password";
                icon.classList.remove("bi-eye");
                icon.classList.add("bi-eye-slash");
            }
        }
    </script>


{% endblock %}